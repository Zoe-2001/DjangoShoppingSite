<!DOCTYPE html>
<html>
<head>
    <title>Shopping Cart</title>
    {% load static %}
    <link href="{% static 'store/styles.css' %}" rel="stylesheet" type="text/css">
</head>
<body>
    <header>
        <!-- Header content -->
    </header>
    <nav>
        <!-- Navigation content -->
    </nav>
    <main>
        <h1>Your Shopping Cart</h1>
        <a href="{% url 'mainpage' %}">Back to Main Page</a>

        <table>
            <thead>
                <tr>
                    <th>Product</th>
                    <th>Quantity</th>
                    <th>Price</th>
                </tr>
            </thead>
            <tbody>
                {% for cart_item in cart_items %}
                <div class="cart-item">
                    <img src="{{ cart_item.product.image.url }}" alt="{{ cart_item.product.name }}">
                    <h3>{{ cart_item.product.name }}</h3>
                    <p>Price: ${{ cart_item.product.price }}</p>

                    <form method="post" action="{% url 'increase_quantity' cart_item.id %}">
                        {% csrf_token %}
                        <button type="submit">+</button>
                    </form>

                    <input type="number" name="quantity" value="{{ cart_item.quantity }}">

                    <form method="post" action="{% url 'decrease_quantity' cart_item.id %}">
                        {% csrf_token %}
                        <button type="submit">-</button>
                    </form>

                    <form method="post" action="{% url 'remove_from_cart' %}">
                        {% csrf_token %}
                        <input type="hidden" name="cart_item_id" value="{{ cart_item.id }}">
                        <button type="submit">Remove Item</button>
                    </form>
                </div>
                {% endfor %}
        </table>
    </main>
</body>
</html>